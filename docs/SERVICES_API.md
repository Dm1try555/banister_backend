# API –£—Å–ª—É–≥ Banister

## üìã –û–±–∑–æ—Ä

API —É—Å–ª—É–≥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π CRUD —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥–∞–º–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Banister. –¢–æ–ª—å–∫–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ (providers) –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —É—Å–ª—É–≥–∞–º–∏.

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
```
Authorization: Bearer <access_token>
```

## üìù CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—Å–ª—É–≥

```http
GET /api/v1/services/
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `search` - –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—é
- `ordering` - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (price, created_at, -price, -created_at)
- `page` - –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "results": [
      {
        "id": 1,
        "title": "Web Development",
        "description": "Professional web development services",
        "price": 100.00,
        "provider": {
          "id": 2,
          "email": "provider@example.com",
          "profile": {
            "first_name": "Jane",
            "last_name": "Smith"
          }
        },
        "created_at": "2025-08-03T18:40:50.547748+00:00",
        "updated_at": "2025-08-03T18:40:50.547748+00:00"
      }
    ],
    "count": 1,
    "next": null,
    "previous": null
  }
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è Providers)

```http
POST /api/v1/services/
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "title": "Web Development",
  "description": "Professional web development services",
  "price": 100.00
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "Service created successfully",
  "data": {
    "id": 1,
    "title": "Web Development",
    "description": "Professional web development services",
    "price": 100.00,
    "provider": {
      "id": 2,
      "email": "provider@example.com"
    },
    "created_at": "2025-08-03T18:40:50.547748+00:00",
    "updated_at": "2025-08-03T18:40:50.547748+00:00"
  }
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —É—Å–ª—É–≥–∏ –ø–æ ID

```http
GET /api/v1/services/{id}/
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "id": 1,
    "title": "Web Development",
    "description": "Professional web development services",
    "price": 100.00,
    "provider": {
      "id": 2,
      "email": "provider@example.com",
      "profile": {
        "first_name": "Jane",
        "last_name": "Smith"
      }
    },
    "created_at": "2025-08-03T18:40:50.547748+00:00",
    "updated_at": "2025-08-03T18:40:50.547748+00:00"
  }
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏ (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü)

```http
PUT /api/v1/services/{id}/
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "title": "Advanced Web Development",
  "description": "Updated description",
  "price": 150.00
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "Service updated successfully",
  "data": {
    "id": 1,
    "title": "Advanced Web Development",
    "description": "Updated description",
    "price": 150.00,
    "provider": {
      "id": 2,
      "email": "provider@example.com"
    },
    "created_at": "2025-08-03T18:40:50.547748+00:00",
    "updated_at": "2025-08-03T18:40:50.547748+00:00"
  }
}
```

### –£–¥–∞–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏ (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü)

```http
DELETE /api/v1/services/{id}/
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "Service deleted successfully"
}
```

## üåê –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ü—É–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ (–±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)

```http
GET /api/v1/public/services/
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `search` - –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—é
- `ordering` - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (price, created_at, -price, -created_at)
- `page` - –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "results": [
      {
        "id": 1,
        "title": "Web Development",
        "description": "Professional web development services",
        "price": 100.00,
        "provider": {
          "id": 2,
          "email": "provider@example.com",
          "profile": {
            "first_name": "Jane",
            "last_name": "Smith"
          }
        },
        "created_at": "2025-08-03T18:40:50.547748+00:00"
      }
    ],
    "count": 1,
    "next": null,
    "previous": null
  }
}
```

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫

```json
{
  "success": false,
  "error_number": "ERROR_CODE",
  "error_message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
  "timestamp": "2025-08-03T18:40:50.547748+00:00"
}
```

### –ö–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ | HTTP –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|-------------|----------|
| `ACCESS_DENIED` | 403 | –û—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ (–Ω–µ provider) |
| `SERVICE_NOT_FOUND` | 404 | –£—Å–ª—É–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ |
| `NOT_OWNER` | 403 | –ù–µ –≤–ª–∞–¥–µ–ª–µ—Ü —É—Å–ª—É–≥–∏ |
| `VALIDATION_ERROR` | 400 | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö |
| `MISSING_FIELD` | 400 | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ |
| `INVALID_PRICE` | 400 | –ù–µ–≤–µ—Ä–Ω–∞—è —Ü–µ–Ω–∞ |
| `SERVER_ERROR` | 500 | –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

## üìä –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- `title` - –ù–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏ (–º–∞–∫—Å–∏–º—É–º 200 —Å–∏–º–≤–æ–ª–æ–≤)
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥–∏ (–º–∞–∫—Å–∏–º—É–º 1000 —Å–∏–º–≤–æ–ª–æ–≤)
- `price` - –¶–µ–Ω–∞ —É—Å–ª—É–≥–∏ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—å—é `provider` –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —É—Å–ª—É–≥–∏
- –í–ª–∞–¥–µ–ª–µ—Ü —É—Å–ª—É–≥–∏ –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —É—Å–ª—É–≥–∏
- –¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞
- –°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥: —Ç–æ–ª—å–∫–æ `provider` —Ä–æ–ª—å
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ: —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü —É—Å–ª—É–≥–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä: –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø: –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–Ω–∏—è —É—Å–ª—É–≥–æ–π
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥–∏
```bash
curl -X POST /api/v1/services/ \
  -H "Authorization: Bearer <provider_token>" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Web Development",
    "description": "Professional web development services",
    "price": 100.00
  }'
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—Å–ª—É–≥
```bash
curl -X GET "/api/v1/services/?search=web&ordering=price" \
  -H "Authorization: Bearer <access_token>"
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏
```bash
curl -X PUT /api/v1/services/1/ \
  -H "Authorization: Bearer <provider_token>" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Advanced Web Development",
    "description": "Updated description",
    "price": 150.00
  }'
```

### –£–¥–∞–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏
```bash
curl -X DELETE /api/v1/services/1/ \
  -H "Authorization: Bearer <provider_token>"
```

### –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
```bash
curl -X GET "/api/v1/public/services/?ordering=-created_at"
```

## üìä –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [x] CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —É—Å–ª—É–≥
- [x] –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —É—Å–ª—É–≥–∞–º
- [x] –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- [x] –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- [x] –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### üîÑ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥
- [ ] –¢–µ–≥–∏ –∏ –º–µ—Ç–∫–∏
- [ ] –†–µ–π—Ç–∏–Ω–≥–∏ –∏ –æ—Ç–∑—ã–≤—ã
- [ ] –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É—Å–ª—É–≥
- [ ] –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### üìã –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
- [ ] –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —É—Å–ª—É–≥
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- [ ] –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —É—Å–ª—É–≥–∞—Ö 