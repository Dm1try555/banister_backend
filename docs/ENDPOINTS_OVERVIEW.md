# –û–±–∑–æ—Ä API –≠–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ Banister

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/v1/auth/register/customer/` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
- `POST /api/v1/auth/register/provider/` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- `POST /api/v1/auth/register/management/` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `POST /api/v1/auth/login/customer/` - –í—Ö–æ–¥ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- `POST /api/v1/auth/login/provider/` - –í—Ö–æ–¥ –¥–ª—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- `POST /api/v1/auth/login/management/` - –í—Ö–æ–¥ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- `POST /api/v1/auth/login/admin/` - –í—Ö–æ–¥ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- `POST /api/v1/auth/login/superadmin/` - –í—Ö–æ–¥ –¥–ª—è —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- `POST /api/v1/auth/login/accountant/` - –í—Ö–æ–¥ –¥–ª—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–æ–≤

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º
- `GET /api/v1/auth/profile/` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `PUT /api/v1/auth/profile/` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `DELETE /api/v1/auth/profile/` - –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞

### –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
- `POST /api/v1/auth/password-reset/request/` - –ó–∞–ø—Ä–æ—Å –∫–æ–¥–∞ —Å–±—Ä–æ—Å–∞
- `POST /api/v1/auth/password-reset/confirm/` - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–±—Ä–æ—Å–∞

### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email
- `POST /api/v1/auth/email-confirm/request/` - –ó–∞–ø—Ä–æ—Å –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- `POST /api/v1/auth/email-confirm/verify/` - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- `POST /api/v1/auth/token/refresh/` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞

## üë®‚Äçüíº –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

### –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ä–æ–ª–µ–π (Super Admin)
- `POST /api/v1/auth/admin/create/` - –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `POST /api/v1/auth/admin/create-accountant/` - –°–æ–∑–¥–∞–Ω–∏–µ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∞
- `POST /api/v1/auth/admin/create-support/` - –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
- `GET /api/v1/auth/admin/list/` - –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (—Ç–æ–ª—å–∫–æ role='admin')
- `DELETE /api/v1/auth/admin/list/` - –£–¥–∞–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### CRUD –¥–ª—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–æ–≤ (Super Admin)
- `GET /api/v1/auth/accountant/` - –°–ø–∏—Å–æ–∫ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–æ–≤
- `PUT /api/v1/auth/accountant/` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∞
- `DELETE /api/v1/auth/accountant/` - –£–¥–∞–ª–µ–Ω–∏–µ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∞

### CRUD –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (Super Admin)
- `GET /api/v1/auth/support-manager/` - –°–ø–∏—Å–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- `PUT /api/v1/auth/support-manager/` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- `DELETE /api/v1/auth/support-manager/` - –£–¥–∞–ª–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ (Super Admin)

#### –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `GET /api/v1/auth/admin/permissions/detail/` - –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
- `POST /api/v1/auth/admin/permissions/detail/` - –ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- `PUT /api/v1/auth/admin/permissions/detail/` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- `DELETE /api/v1/auth/admin/permissions/detail/` - –°–±—Ä–æ—Å –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

#### –ì—Ä–∞–Ω—É–ª—è—Ä–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- `POST /api/v1/auth/admin/permissions/grant/` - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- `POST /api/v1/auth/admin/permissions/revoke/` - –û—Ç–∑—ã–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- `GET /api/v1/auth/admin/permissions/list/` - –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `DELETE /api/v1/auth/admin/permissions/delete/` - –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

## üõ†Ô∏è –£—Å–ª—É–≥–∏

### CRUD –¥–ª—è —É—Å–ª—É–≥ (Providers)
- `GET /api/v1/services/` - –°–ø–∏—Å–æ–∫ —É—Å–ª—É–≥
- `POST /api/v1/services/` - –°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥–∏
- `GET /api/v1/services/{id}/` - –ü–æ–ª—É—á–µ–Ω–∏–µ —É—Å–ª—É–≥–∏
- `PUT /api/v1/services/{id}/` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏
- `DELETE /api/v1/services/{id}/` - –£–¥–∞–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏

## üìÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### CRUD –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- `GET /api/v1/bookings/` - –°–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- `POST /api/v1/bookings/` - –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (Customers)
- `GET /api/v1/bookings/{id}/` - –ü–æ–ª—É—á–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `PUT /api/v1/bookings/{id}/` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `DELETE /api/v1/bookings/{id}/` - –£–¥–∞–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–º (Providers)
- `POST /api/v1/bookings/status/{booking_id}/` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

## üì∏ –§–∞–π–ª—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è
- `POST /api/v1/files/profile-photo/upload/` - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è
- `GET /api/v1/files/profile-photo/` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è
- `DELETE /api/v1/files/profile-photo/delete/` - –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è

## üåê –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ü—É–±–ª–∏—á–Ω—ã–µ —É—Å–ª—É–≥–∏
- `GET /api/v1/public/services/` - –ü—É–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ (–±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)

### –ü—É–±–ª–∏—á–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏
- `GET /api/v1/public/providers/` - –ü—É–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (–±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- `GET /api/v1/public/providers/{id}/` - –ü—É–±–ª–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–µ (–±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)

## üìä –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [x] –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å 6 —Ä–æ–ª—è–º–∏
- [x] –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –≥—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
- [x] CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π
- [x] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –∏ —Ñ–∞–π–ª–∞–º–∏
- [x] –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- [x] –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- [x] Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### üîÑ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- [ ] –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π
- [ ] –°–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤
- [ ] –°–∏—Å—Ç–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –¥–∞—à–±–æ—Ä–¥


## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã
- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å —Ä–æ–ª–µ–≤—ã–º –¥–æ—Å—Ç—É–ø–æ–º
- –ì—Ä–∞–Ω—É–ª—è—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- Rate limiting –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –ó–∞—â–∏—Ç–∞ –æ—Ç CSRF –∞—Ç–∞–∫
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ MinIO

### Middleware
- `RoleBasedAccessMiddleware` - –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–µ–π
- `AdminPermissionMiddleware` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- `AdminActivityLoggingMiddleware` - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **Swagger UI**: `http://localhost:8000/swagger/`
- **–ü–æ–ª–Ω–∞—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `docs/API_DOCUMENTATION.md`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**: `docs/AUTHENTICATION_API.md`
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: `docs/ADMIN_MANAGEMENT.md`
- **–£—Å–ª—É–≥–∏ API**: `docs/SERVICES_API.md`
- **MinIO –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: `docs/MINIO_IMPLEMENTATION.md`
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron –∑–∞–¥–∞—á**: `docs/CRON_SETUP.md` 